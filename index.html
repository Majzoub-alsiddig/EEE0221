<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet"> <title>Donation Tracker</title>
    <style>:root{--primary-color:#00b8db;--text-color:#fff;--card-bg:#000000bf}body{margin:0;padding:0;font-family:'Tajawal','Segoe UI',Tahoma,Geneva,Verdana,sans-serif;height:100vh;display:flex;justify-content:center;align-items:center;background-color:#fff}.background-poster{position:fixed;top:0;left:0;width:100%;height:100%;background-image:url(./poster.webp);filter:blur(5px);background-size:contain;background-repeat:no-repeat;background-position:center center;z-index:-1}.tracker-card{background-color:var(--card-bg);width:85%;max-width:400px;min-height:250px;padding:30px 20px;border-radius:10px;text-align:center;color:var(--text-color);box-shadow:0 10px 30px #0000004d;backdrop-filter:blur(5px);border:1px solid #ffffff1a;font-weight:700;display:flex;flex-direction:column;justify-content:center}h1{margin-top:0;font-size:1.8rem;margin-bottom:20px;letter-spacing:0}.loader{border:4px solid #ffffff1a;border-left:4px solid var(--primary-color);border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:20px auto}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}#main-content{display:none;opacity:0;transition:opacity .5s ease-in}.progress-wrapper{position:relative;width:100%;height:25px;background-color:#fff3;border-radius:12px;margin:50px 0 35px;direction:ltr}.progress-fill{height:100%;background:linear-gradient(90deg,#00b8db,#00defa);width:0;border-radius:12px;transition:width 1.5s ease-out;box-shadow:0 0 15px var(--primary-color)}.milestone-marker{position:absolute;top:-8px;width:2px;height:41px;background-color:#fffc;z-index:2;transform:translateX(-50%)}.milestone-marker::before{content:'★';position:absolute;top:-24px;left:50%;transform:translateX(-50%);color:var(--primary-color);font-size:20px;text-shadow:0 0 8px var(--primary-color),0 0 15px var(--primary-color)}.milestone-marker::after{content:attr(data-label);position:absolute;top:-42px;left:50%;transform:translateX(-50%);color:#fff;font-size:14px;font-weight:700;opacity:1;font-family:'Segoe UI',sans-serif}.stats-row{display:flex;justify-content:space-between;font-size:1.1rem;margin-bottom:5px}.amount-current{color:var(--primary-color);font-size:1.6rem;font-weight:800;text-shadow:0 0 10px #00b8db66}.last-updated{margin-top:25px;font-size:.85rem;color:#fff9;font-weight:400}  </style>
</head>
<body>
    <div class="background-poster"></div> <div class="tracker-card"> <h1>تبرعات كهرباء 0221</h1> <div id="loader" class="loader"></div> <div id="main-content"> <div class="stats-row"> <span>الهدف</span> <span>المبلغ الحالي</span> </div> <div class="stats-row"> <span id="target-display">$0</span> <span id="current-display" class="amount-current">$0</span> </div> <div class="progress-wrapper" id="progress-track"> <div class="progress-fill" id="progress-bar"></div> </div> <p id="last-updated" class="last-updated"></p> </div> </div>
    <script>const DATA_URL="https://script.google.com/macros/s/AKfycbwQh_v96Jg6tHoWCBk_nfuCtDYtcwCUsGS6rAPcXC5TRyiDVr8QRKZloe1qQOAe0RYx/exec";async function initTracker(){try{const t=await fetch(DATA_URL),n=await t.json();console.log(n),document.getElementById("current-display").innerText=formatCurrency(n.current),document.getElementById("target-display").innerText=formatCurrency(n.target),document.getElementById("last-updated").innerText="آخر تحديث: "+n.lastUpdated,document.getElementById("loader").style.display="none";const r=document.getElementById("main-content");r.style.display="block",setTimeout(()=>{r.style.opacity="1"},50);let e=n.current/n.target*100;100<e&&(e=100),setTimeout(()=>{document.getElementById("progress-bar").style.width=e+"%"},100);const o=document.getElementById("progress-track");n.milestones.forEach(e=>{if(0<=e&&e<=100){const t=document.createElement("div");t.classList.add("milestone-marker"),t.style.left=e+"%",t.setAttribute("data-label",e+"%"),o.appendChild(t)}})}catch(e){console.error("Error fetching data:",e),document.getElementById("loader").style.display="none";const c=document.querySelector("h1");c.innerText="Error Loading Data",c.style.color="red"}}function formatCurrency(e){return Number(e).toLocaleString()+"K ج.س"}window.addEventListener("DOMContentLoaded",initTracker);</script>
</body>
</html>
